<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sf="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta charset="ISO-8859-1">
    
   
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    
    <title>Practice! | HMS </title>
    
    <link th:href="@{/vendors/bootstrap/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/vendors/fontawesome-free-5.3.1-web/css/all.css}" rel="stylesheet">
    <link th:href="@{/css/customCSS.css}" rel="stylesheet">
    
    
</head>
    
  
    
<body>

<form id="form1">
<label>Click here to call an ajax</label>
<div id="p1">

<table id="tbl1"><thead><th>Name</th></thead></table>

</div>
<button id="btn1">Click here</button>
</form>

    
  
    
</body>

<script th:src="@{/vendors/bootstrap/js/jquery-3.3.1.min.js}"></script>
<script th:src="@{/vendors/bootstrap/js/jquery.animate-colors.js}"></script>
<script th:src="@{/vendors/bootstrap/js/bootstrap.min.js}"></script>

    
<script>
$(document).ready(function()
{
	
	 var count = 0;
	
  $("#btn1").click(function(e)
	{
	   e.preventDefault();
	/*   $.getJSON("/usersSelect", function(users)
                 {
            $("#tbl1").append("<p>ID:"+users.id+"</p>")     
       });
     
        */
       count++;
       
       if(count==1)
       {
       $.ajax({
          type:"GET",
          url:"/usersSelect",
          timeout:5000,
          success: function(result)
          {
              var data;
              for(var i in result)
              {
                data+="<tr><td>"+result[i].id+"<td> 						<td>"+result[i].username+"<td></tr>";
              }
              
              $("#tbl1").append(data);
          }
      }).done(function()
             {
          alert("This are the list that was returned"); 
       });
       }
  });
})
	

</script>    
    
</html>